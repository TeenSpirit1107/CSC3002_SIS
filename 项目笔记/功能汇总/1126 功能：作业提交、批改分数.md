# 功能：作业提交、批改分数

- 更新日期：11/26；更新者：Staff

## 作业相关变量

1. 次数：每个课程3次作业 [TODO] 复杂版：自定义次数
2. 权重：相等权重 [TODO] 复杂版：自定义权重
3. 类型：选择题/ ~~文本题~~ [TODO] 复杂版：有文本题
4. 截止日期
5. 评分；教授评语（针对文本题） 
6. 状态
   1. 未布置
   2. 未完成
   3. 已完成，已评分
   4. 已过期
7. [TODO] 复杂版：平均分、每题平均分、易错选项等

## 文件存储

- 位置：`sis_ws/data_repo/hw/class_id/`

## 流程

1. 初始化：学生入选课程之后，创建相应目录，并在目录中创建文件`hw_info.txt`，`1.txt`, `2.txt`, `3.txt`
2. 登录：以后每次登陆时，`update_hw_info()`函数更新`hw_info.txt`文件, 主要是通过当前日期更新作业状态；如果作业状态有变成expired, 更新相应作业分数为0（student_temp_grade)
3. 允许做状态为a (assigned)的作业

## 文件内容

1. `hw_info.txt`
   - 第一行是作业次数（现阶段一定为3）
   - 接下来三个部分每个部分形式相近，为一个作业的描述。一个作业的描述中包含
   - 第二行，作业状态。每个状态对应的第三行写在了下面
   - 作业状态 
   ```text
     - u (unassigned)
       - Day to be assigned
     - a (assigned)
       - Due Day 
     - e (expired)
       - Expired Day
   ```
    - assigned状态，做作业需要访问`sis_ws/data_repo/hw/class_id/questions/`，内容见下
    - 例子：
        ```text
        3
        u
        241126
        a
        241203
        u
        241210
        u
        241217
        ```

2. `sis_ws/data_repo/hw/class_id/questions/`

- 文件名为1/2/3.txt
- 文件内容：
  - 第一行是题目数量，设为k。
  - 接下来k个部分每个部分如下：
    - 第一行是题目答案(一个char)
    - 第二行是题目描述
    - 接下来4行是选项描述
  - 全部完成之后返回总分、做错的题目和正确选项。